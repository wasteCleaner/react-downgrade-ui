{"version":3,"file":"index.js","sources":["../src/DowngradeProvider.tsx"],"sourcesContent":["import * as React from 'react';\n\nexport const DowngradeUIContext = React.createContext(false);\n\nexport const useDowngradeUI = () => React.useContext(DowngradeUIContext);\n\ntype DowngradeUIProviderProps = {\n    children: React.ReactNode;\n    percentage?: number;\n};\n\nexport const DowngradeUIProvider = ({ children, percentage = 50 }: DowngradeUIProviderProps) => {\n    const [delay, setDelay] = React.useState<number>(0);\n\n    React.useEffect(() => {\n        let timer: number | null = null;\n        const checkDelay = () => {\n            const startTime = Number(new Date());\n            timer = setTimeout(() => {\n                setDelay(Number(new Date()) - startTime - 1000);\n                checkDelay();\n            }, 1000);\n        };\n\n        checkDelay();\n        return () => {\n            if (timer) {\n                clearTimeout(timer);\n            }\n        };\n    }, []);\n\n    return (\n        <DowngradeUIContext.Provider value={(delay / 1000 * 100) > percentage}>\n            {children}\n        </DowngradeUIContext.Provider>\n    );\n};\n"],"names":["React.createContext","React.useContext","React.useEffect","React.createElement"],"mappings":";;;;IAEa,kBAAkB,GAAGA,mBAAmB,CAAC,KAAK,EAAE;IAEhD,cAAc,GAAG,cAAM,OAAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAC;IAO5D,mBAAmB,GAAG,UAAC,EAAuD;QAArD,sBAAQ,EAAE,kBAAe,EAAf,oCAAe;IACrD,IAAA,sBAA6C,EAA5C,aAAK,EAAE,gBAAqC,CAAC;IAEpDC,eAAe,CAAC;QACZ,IAAI,KAAK,GAAkB,IAAI,CAAC;QAChC,IAAM,UAAU,GAAG;YACf,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;YACrC,KAAK,GAAG,UAAU,CAAC;gBACf,QAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,CAAC;gBAChD,UAAU,EAAE,CAAC;aAChB,EAAE,IAAI,CAAC,CAAC;SACZ,CAAC;QAEF,UAAU,EAAE,CAAC;QACb,OAAO;YACH,IAAI,KAAK,EAAE;gBACP,YAAY,CAAC,KAAK,CAAC,CAAC;aACvB;SACJ,CAAC;KACL,EAAE,EAAE,CAAC,CAAC;IAEP,QACIC,oBAAC,kBAAkB,CAAC,QAAQ,IAAC,KAAK,EAAE,CAAC,KAAK,GAAG,IAAI,GAAG,GAAG,IAAI,UAAU,IAChE,QAAQ,CACiB,EAChC;AACN;;;;;;"}